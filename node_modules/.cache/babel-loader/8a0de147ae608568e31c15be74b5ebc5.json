{"ast":null,"code":"var _jsxFileName = \"/Users/zijiemac/Documents/UNSW/seng2021/e-invoice_visualiser/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { styled } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Box from '@mui/material/Box';\nimport logo from './img/logo.png';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CusButton = styled(Button)({\n  width: '220px'\n});\n_c = CusButton;\nconst CusTextField = styled(TextField)({\n  backgroundColor: 'white'\n});\n_c2 = CusTextField;\n\nclass Login extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background\",\n      style: {\n        backgroundColor: '#90caf9',\n        height: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          top: '80px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"logo\",\n          width: \"200\",\n          height: \"150\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Login\",\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '60vh'\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"span\",\n          sx: {\n            p: 4,\n            backgroundColor: 'white'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"About\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Input\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '25px',\n                position: 'relative',\n                bottom: '10px'\n              },\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(CusTextField, {\n                required: true,\n                id: \"outlined-required\",\n                label: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 31,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(CusTextField, {\n                required: true,\n                id: \"outlined-required\",\n                label: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(CusButton, {\n                variant: \"contained\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(CusButton, {\n                variant: \"contained\",\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst Login2 = () => {\n  _s();\n\n  const [logged, setlogged] = useState(0);\n  const [email, setemail] = useState();\n  const [password, setpassword] = useState();\n  const [token, settoken] = useState();\n\n  async function login() {\n    const res = await fetch('https://peaceful-headland-84816.herokuapp.com/user/login', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    });\n    console.log(res);\n\n    if (res.status == 200) {\n      console.log(logged);\n      await setlogged(1);\n      const data = await res.json();\n      await console.log(logged);\n      return data;\n    } else {\n      console.log('run');\n      setlogged(0);\n      return;\n    }\n  }\n\n  function handleLogin(event) {\n    event.preventDefault(); //valid if empty\n\n    if (!email || !password) return;\n    const url = 'https://peaceful-headland-84816.herokuapp.com/user/login';\n    const data = JSON.stringify({\n      email: email,\n      password: password\n    });\n    const options = {\n      headers: {\n        'Content-type': 'application/json'\n      }\n    };\n    axios.post(url, data, options);\n    console.log('OK');\n\n    if (logged == 1) {\n      //move to new page\n      console.log('Successful login');\n      window.location.href = '/file';\n    } else {\n      return;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"background\",\n    style: {\n      backgroundColor: '#90caf9',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        top: '80px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"logo\",\n        width: \"200\",\n        height: \"150\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '60vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        component: \"span\",\n        sx: {\n          p: 4,\n          backgroundColor: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"About\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Input\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '25px',\n              position: 'relative',\n              bottom: '10px'\n            },\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(CusTextField, {\n              required: true,\n              id: \"outlined-required\",\n              label: \"Email\",\n              onChange: e => setemail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(CusTextField, {\n              required: true,\n              id: \"outlined-required\",\n              label: \"Password\",\n              onChange: e => setpassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(CusButton, {\n              type: \"submit\",\n              variant: \"contained\",\n              onClick: handleLogin,\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(CusButton, {\n              variant: \"contained\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login2, \"XJQgE/sx7RFgWpZ/0OudzAhtuGw=\");\n\n_c3 = Login2;\nexport default Login2;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CusButton\");\n$RefreshReg$(_c2, \"CusTextField\");\n$RefreshReg$(_c3, \"Login2\");","map":{"version":3,"sources":["/Users/zijiemac/Documents/UNSW/seng2021/e-invoice_visualiser/src/Login.js"],"names":["React","useState","styled","Button","TextField","Box","logo","axios","CusButton","width","CusTextField","backgroundColor","Login","Component","render","height","position","top","display","justifyContent","alignItems","p","fontSize","bottom","Login2","logged","setlogged","email","setemail","password","setpassword","token","settoken","login","res","fetch","method","headers","body","JSON","stringify","console","log","status","data","json","handleLogin","event","preventDefault","url","options","post","window","location","href","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { styled } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Box from '@mui/material/Box';\nimport logo from './img/logo.png';\nimport axios from 'axios';\nconst CusButton = styled(Button)({\n  width: '220px',\n})\n\nconst CusTextField = styled(TextField)({\n  backgroundColor: 'white'\n})\n\n\nclass Login extends React.Component {\n  render() {\n    return (\n      <div className='background' style={{ backgroundColor: '#90caf9', height: '100vh' }}>\n        <div style={{ position: 'relative', top: '80px' }}>\n          <img src={logo} alt=\"logo\" width=\"200\" height=\"150\" />\n        </div>\n        <div className='Login' style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '60vh' }}>\n          <Box component=\"span\" sx={{ p: 4, backgroundColor: 'white' }}>\n            <div className='About'>\n            </div>\n            <div className='Input'>\n              <div style={{ fontSize: '25px', position: 'relative', bottom: '10px' }}>Login</div>\n              <p>\n                <CusTextField\n                  required\n                  id=\"outlined-required\"\n                  label=\"Email\"\n                />\n              </p>\n              <p>\n                <CusTextField\n                  required\n                  id=\"outlined-required\"\n                  label=\"Password\"\n                />\n              </p>\n              <p>\n                <CusButton variant=\"contained\">Sign in</CusButton>\n              </p>\n              <p>\n                <CusButton variant=\"contained\">Register</CusButton>\n              </p>\n            </div>\n          </Box>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst Login2 = () => {\n  \n  const [logged, setlogged] = useState(0)\n  const [email, setemail] = useState();\n  const [password, setpassword] = useState();\n  const[token, settoken] = useState();\n\n  async function login() {\n    const res = await fetch('https://peaceful-headland-84816.herokuapp.com/user/login', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify({email:email, password:password}),\n    })\n    console.log(res)\n    if (res.status == 200){\n      console.log(logged)\n      await setlogged(1)\n      const data = await res.json()\n      await console.log(logged)\n      return data;\n    }else{\n      console.log('run')\n      setlogged(0);\n      return;\n    }\n  }\n\n  function handleLogin(event) {\n    event.preventDefault();\n    //valid if empty\n    if (!email || !password) return;\n    const url = 'https://peaceful-headland-84816.herokuapp.com/user/login';\n    const data = JSON.stringify({email:email, password:password});\n    const options = {headers : {'Content-type': 'application/json'}}\n    axios.post(url, data, options)\n    \n    console.log('OK')\n    if (logged == 1){\n      //move to new page\n      console.log('Successful login');\n      window.location.href = ('/file');\n    } else{\n      return\n    }\n  }\n  return (\n    <div className='background' style={{ backgroundColor: '#90caf9', height: '100vh' }}>\n      <div style={{ position: 'relative', top: '80px' }}>\n        <img src={logo} alt=\"logo\" width=\"200\" height=\"150\" />\n      </div>\n      <div className='Login' style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '60vh' }}>\n        <Box component=\"span\" sx={{ p: 4, backgroundColor: 'white' }}>\n          <div className='About'>\n          </div>\n          <div className='Input'>\n            <div style={{ fontSize: '25px', position: 'relative', bottom: '10px' }}>Login</div>\n            <p>\n              <CusTextField\n                required\n                id=\"outlined-required\"\n                label=\"Email\"\n                onChange={e => setemail(e.target.value)}\n              />\n            </p>\n            <p>\n              <CusTextField\n                required\n                id=\"outlined-required\"\n                label=\"Password\"\n                onChange={e => setpassword(e.target.value)}\n              />\n            </p>\n            <p>\n              <CusButton type=\"submit\" variant=\"contained\" onClick={handleLogin}>Sign in</CusButton>\n            </p>\n            <p>\n              <CusButton variant=\"contained\">Register</CusButton>\n            </p>\n          </div>\n        </Box>\n      </div>\n    </div>\n  );\n\n};\nexport default Login2;\n"]},"metadata":{},"sourceType":"module"}